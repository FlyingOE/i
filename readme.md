<pre>00 : <a href="../../blob/master/k.go#L790">idn</a> <a href="../../blob/master/k.go#L481">dex</a>    20 0 <a href="../../blob/master/k.go#L3943">rdl</a> <a href="../../blob/master/k.go#L3947">wrl</a>    40 exi exit  120 ... in       60 <a href="../../blob/master/k.go#L4641">prm</a>  140
01 + <a href="../../blob/master/k.go#L791">flp</a> <a href="../../blob/master/k.go#L2196">add</a>    21 1 nil nil    41 <a href="../../blob/master/k.go#L2019">sqr</a> <a href="../../blob/master/k.go#L2019">sqr</a>t  121 ... within   61      141
02 - <a href="../../blob/master/k.go#L830">neg</a> <a href="../../blob/master/k.go#L2197">sub</a>    22 2 nil nil    42 <a href="../../blob/master/k.go#L2022">sin</a>       122 <a href="../../blob/master/k.go#L4192">bin</a>          62      142
03 * <a href="../../blob/master/k.go#L833">fst</a> <a href="../../blob/master/k.go#L2198">mul</a>    23 3 nil nil    43 <a href="../../blob/master/k.go#L2025">cos</a>       123 ... like     63      143
04 % <a href="../../blob/master/k.go#L871">inv</a> <a href="../../blob/master/k.go#L2199">div</a>    24 4 nil nil    44 <a href="../../blob/master/k.go#L5244">dev</a>       124 <a href="../../blob/master/k.go#L4608">del</a>          64      144
05 & <a href="../../blob/master/k.go#L874">wer</a> <a href="../../blob/master/k.go#L2200">min</a>    25 5 nil nil    45 <a href="../../blob/master/k.go#L2043">log</a>       125 <a href="../../blob/master/k.go#L2205">lgn</a> <a href="../../blob/master/k.go#L2043">log</a>      65      145
06 | <a href="../../blob/master/k.go#L900">rev</a> <a href="../../blob/master/k.go#L2201">max</a>    26 6 nil nil    46 <a href="../../blob/master/k.go#L2046">exp</a>       126 <a href="../../blob/master/k.go#L2208">pow</a> <a href="../../blob/master/k.go#L2046">exp</a>      66      146
07 < <a href="../../blob/master/k.go#L931">asc</a> <a href="../../blob/master/k.go#L2202">les</a>    27 7 nil nil    47 <a href="../../blob/master/k.go#L4733">rnd</a> rand  127 <a href="../../blob/master/k.go#L4678">rol</a> rand     67      147
08 > dst <a href="../../blob/master/k.go#L2203">mor</a>    28 8 <a href="../../blob/master/k.go#L3953">lun</a> nil    48 <a href="../../blob/master/k.go#L2028">abs</a>       128 <a href="../../blob/master/k.go#L2036">abq</a> 2 <a href="../../blob/master/k.go#L2028">abs</a>    68      148
09 = <a href="../../blob/master/k.go#L974">grp</a> <a href="../../blob/master/k.go#L2204">eql</a>    29 9 nil nil    49 <a href="../../blob/master/k.go#L4821">nrm</a> norm  129 <a href="../../blob/master/k.go#L4822">nrq</a> 2 norm   69      149
                                                                          
10 ! <a href="../../blob/master/k.go#L1003">til</a> <a href="../../blob/master/k.go#L2249">key</a>    30 ' <a href="../../blob/master/k.go#L3491">qtc</a> <a href="../../blob/master/k.go#L3488">qot</a>    50 <a href="../../blob/master/k.go#L2049">rel</a> real  130 <a href="../../blob/master/k.go#L5167">mkz</a> cmplx    70      150
11 ~ <a href="../../blob/master/k.go#L1097">not</a> <a href="../../blob/master/k.go#L2283">mch</a>    31 / <a href="../../blob/master/k.go#L3492">slc</a> <a href="../../blob/master/k.go#L3489">sla</a>    51 <a href="../../blob/master/k.go#L2050">ima</a> <a href="../../blob/master/k.go#L2050">ima</a>g  131 <a href="../../blob/master/k.go#L2844">fns</a> find     71      151
12 , <a href="../../blob/master/k.go#L1116">enl</a> <a href="../../blob/master/k.go#L2347">cat</a>    32 \ <a href="../../blob/master/k.go#L3493">bsc</a> <a href="../../blob/master/k.go#L3490">bsl</a>    52 <a href="../../blob/master/k.go#L2051">phi</a> phase 132 <a href="../../blob/master/k.go#L2586">rot</a>          72      152
13 ^ <a href="../../blob/master/k.go#L1134">srt</a> <a href="../../blob/master/k.go#L2483">ept</a>    33 ' <a href="../../blob/master/k.go#L3500">ech</a> <a href="../../blob/master/k.go#L3526">ecd</a>    53 <a href="../../blob/master/k.go#L2079">cnj</a> conj  133              73      153
14 # <a href="../../blob/master/k.go#L1135">cnt</a> <a href="../../blob/master/k.go#L2513">tak</a>    34 / <a href="../../blob/master/k.go#L3651">ovr</a> <a href="../../blob/master/k.go#L3793">ovi</a>    54 <a href="../../blob/master/k.go#L5001">cnd</a> cond  134              74      154
15 _ <a href="../../blob/master/k.go#L1143">flr</a> <a href="../../blob/master/k.go#L2587">drp</a>    35 \ <a href="../../blob/master/k.go#L3712">scn</a> <a href="../../blob/master/k.go#L3826">sci</a>    55 <a href="../../blob/master/k.go#L2137">zxp</a> <a href="../../blob/master/k.go#L2046">exp</a>i  135 <a href="../../blob/master/k.go#L2100">rxp</a> <a href="../../blob/master/k.go#L2046">exp</a>i     75      155
16 $ <a href="../../blob/master/k.go#L1168">str</a> <a href="../../blob/master/k.go#L2703">cst</a>    36 ' <a href="../../blob/master/k.go#L3546">ecp</a> <a href="../../blob/master/k.go#L3603">epi</a>    56 <a href="../../blob/master/k.go#L1072">dia</a> <a href="../../blob/master/k.go#L1072">dia</a>g  136              76      156
17 ? <a href="../../blob/master/k.go#L1245">unq</a> <a href="../../blob/master/k.go#L2805">fnd</a>    37 / <a href="../../blob/master/k.go#L4086">jon</a> <a href="../../blob/master/k.go#L3623">ecr</a>    57 <a href="../../blob/master/k.go#L5339">avg</a>       137 <a href="../../blob/master/k.go#L5370">mvg</a> <a href="../../blob/master/k.go#L5339">avg</a>      77      157
18 @ <a href="../../blob/master/k.go#L1277">tip</a> <a href="../../blob/master/k.go#L2876">atx</a>    38 \ <a href="../../blob/master/k.go#L4053">spl</a> <a href="../../blob/master/k.go#L3637">ecl</a>    58 <a href="../../blob/master/k.go#L5475">med</a>       138 <a href="../../blob/master/k.go#L5487">pct</a> <a href="../../blob/master/k.go#L5475">med</a>      78      158
19 . <a href="../../blob/master/k.go#L1290">val</a> <a href="../../blob/master/k.go#L3344">cal</a>    39 /     trp    59 <a href="../../blob/master/k.go#L5270">vri</a> var   139 <a href="../../blob/master/k.go#L5291">cov</a> var      79      15

k7+
 complex(type z): 1i2, 1a30, cmplx, expi, real, imag, phase, conj, rand 3i(binormal)
 matrix: x/y(mul), A\B(solve), A\0(qr), A\1(inv), diag A, diag v, norm, cond
 stat: x med (pct/erf/cum), dev z (principal axis), x var, var z (cov), x avg (cum/win/exp)
k7-
 32bit, time/duration, :expr, ksql, crypto, network, multithread
 
Type/memory system
32-bit system, buddy allocater with 8 byte headers
types (cifzsla01234) byte8, int32, float64, complex128, symbol64, list32, dict64, funcs
space for 15 types
8 byte header:
  4 bits type p>>28
 28 bits vector size, atom: p&0x0fffffff == 0x0fffffff
 free block: type is 0:     p&0xf0000000 == 0
 bucket type is stored only in free blocks at p (uint32 value)
 32 bits (p+1) are refcount for used blocks or pointer to next free

Initial memory (64kB)
 p[0]        block header
 p[1]        rng state
 p[2]        total allocated memory log2 (initial 64k, max 4G) uint32
 p[3]        points to a dict of built-ins S(name)!L(fcodes)
 followed by free list:
 p[4..31]    points to free block of bucket size n = 4..31
 byte[136…168] symbols :+-*%&|<>=!~,^#_$?@.0123456789'/\
 byte[169…177] type names _cifzn.a
 p[47]       0x2f src pointer
 p[48]       0x30 points to k tree keys (^S)
 p[49]       0x31 points to k tree values (L)
 p[50]       0x32 points to stab(symbol table, L of C)
 p[51]       0x33 points to asci chars (#256)
 maybe:      type size vector: 0,1,4,8,16,8,4,0,0,0,0,0,0
             A01234 need only a single block but may have length>0

Function codes
  0-19 monadic primitives :+-*%&|<>=!~,^#_$?@.
 20-29 monadic ioverbs 0123456789
 30-32 monadic operator functions '/\
 33-38 monadic derived functions f' f/ f\ f': f/: f\:
 39-79 monadic builtins
 80-159 dyadic versions

Functions have type N+1…N+4 (valence)
 basic functions and builtins: atoms
  x+2 is the function code
  x+3 != 0 marks infix assignment
 lambda functions: marked with length 0
  x+2 string form C
  x+3 (arg list;parse tree)
 projection: length 1(over lambda) 2(over basic/builtins)
  x+2 function code or pointer to lambda function
  x+3 full argument list with holes (N)
 composition: length 3, type N+1 or N+2
  x+2, x+3: point to verbs
 derived verbs, e.g. evaluating (/;+) have type N+1 with code > 256
  x+2 derived function code<<8
  x+3 points to the function operand
 call will adjust the valence if a derived function has two arguments
</pre>

Symbols are interned in the char array at m.k[stab]
 symbol values are 256+index into this array (which is append only)
 values < 256 are single char symbols and represent their ascii value
 the 0 value is the empty symbol

# Building
<pre>
This is not a complete program. It can only be run with go test.
See directories _ or u instead.
</pre>
