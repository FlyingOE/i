![k](https://ktye.github.io/k32.png) [try](https://ktye.github.io)
<pre>: <a href="../../blob/master/k.go#L802">idn</a> <a href="../../blob/master/k.go#L488">dex</a>  ! <a href="../../blob/master/k.go#L1114">til</a> <a href="../../blob/master/k.go#L2777">key</a>  0: <a href="../../blob/master/k.go#L4521">rdl</a> <a href="../../blob/master/k.go#L4525">wrl</a>  0 null      10 <a href="../../blob/master/k.go#L2563">abs</a>        20 <a href="../../blob/master/k.go#L6354">med</a>  130 ... in      140 <a href="../../blob/master/k.go#L6249">mvg</a> <a href="../../blob/master/k.go#L6218">avg</a>
+ <a href="../../blob/master/k.go#L803">flp</a> <a href="../../blob/master/k.go#L2724">add</a>  ~ <a href="../../blob/master/k.go#L1208">not</a> <a href="../../blob/master/k.go#L2816">mch</a>  1: nil nil  1           11 plo plot   21 <a href="../../blob/master/k.go#L6149">vri</a>  131 ... within  141 <a href="../../blob/master/k.go#L6366">pct</a> <a href="../../blob/master/k.go#L6354">med</a>
- <a href="../../blob/master/k.go#L842">neg</a> <a href="../../blob/master/k.go#L2725">sub</a>  , <a href="../../blob/master/k.go#L1233">enl</a> <a href="../../blob/master/k.go#L2860">cat</a>  2: nil nil  2 <a href="../../blob/master/k.go#L881">las</a> <a href="../../blob/master/k.go#L881">las</a>t  12 <a href="../../blob/master/k.go#L2578">ima</a> <a href="../../blob/master/k.go#L2578">ima</a>g   22 <a href="../../blob/master/k.go#L5544">prm</a>  132 <a href="../../blob/master/k.go#L4786">bin</a>         142 <a href="../../blob/master/k.go#L6170">cov</a> var
* <a href="../../blob/master/k.go#L845">fst</a> <a href="../../blob/master/k.go#L2726">mul</a>  ^ <a href="../../blob/master/k.go#L1256">srt</a> <a href="../../blob/master/k.go#L2998">ept</a>  3: nil nil  3 <a href="../../blob/master/k.go#L2554">sqr</a> <a href="../../blob/master/k.go#L2554">sqr</a>t  13 <a href="../../blob/master/k.go#L2579">phi</a> phase          133 ... like
% <a href="../../blob/master/k.go#L911">inv</a> <a href="../../blob/master/k.go#L2727">div</a>  # <a href="../../blob/master/k.go#L1274">cnt</a> <a href="../../blob/master/k.go#L3033">tak</a>  4: nil nil  4 <a href="../../blob/master/k.go#L2557">sin</a>       14 <a href="../../blob/master/k.go#L2607">cnj</a> conj           134              '  <a href="../../blob/master/k.go#L3994">ech</a> <a href="../../blob/master/k.go#L4051">ecd</a>
& <a href="../../blob/master/k.go#L914">wer</a> <a href="../../blob/master/k.go#L2728">min</a>  _ <a href="../../blob/master/k.go#L1282">flr</a> <a href="../../blob/master/k.go#L3134">drp</a>  5: nil nil  5 <a href="../../blob/master/k.go#L2560">cos</a>       15 <a href="../../blob/master/k.go#L5880">cnd</a> cond           135 <a href="../../blob/master/k.go#L2733">lgn</a> <a href="../../blob/master/k.go#L2571">log</a>      /  <a href="../../blob/master/k.go#L4191">ovr</a> <a href="../../blob/master/k.go#L4333">ovi</a>
| <a href="../../blob/master/k.go#L940">rev</a> <a href="../../blob/master/k.go#L2729">max</a>  $ <a href="../../blob/master/k.go#L1307">str</a> <a href="../../blob/master/k.go#L3255">cst</a>  6: nil nil  6 <a href="../../blob/master/k.go#L6123">dev</a>       16 <a href="../../blob/master/k.go#L2665">zxp</a> <a href="../../blob/master/k.go#L2574">exp</a>i           136 <a href="../../blob/master/k.go#L2736">pow</a> <a href="../../blob/master/k.go#L2574">exp</a>      \  <a href="../../blob/master/k.go#L4252">scn</a> <a href="../../blob/master/k.go#L4379">sci</a>
< <a href="../../blob/master/k.go#L971">asc</a> <a href="../../blob/master/k.go#L2730">les</a>  ? <a href="../../blob/master/k.go#L1404">unq</a> <a href="../../blob/master/k.go#L3363">fnd</a>  7: nil nil  7 <a href="../../blob/master/k.go#L2571">log</a>       17 <a href="../../blob/master/k.go#L1183">dia</a> <a href="../../blob/master/k.go#L1183">dia</a>g           137 <a href="../../blob/master/k.go#L5581">rol</a> rand     ': <a href="../../blob/master/k.go#L4086">ecp</a> <a href="../../blob/master/k.go#L4143">epi</a>
> dst <a href="../../blob/master/k.go#L2731">mor</a>  @ <a href="../../blob/master/k.go#L1423">tip</a> <a href="../../blob/master/k.go#L3443">atx</a>  8: <a href="../../blob/master/k.go#L4532">lun</a> <a href="../../blob/master/k.go#L4537">lud</a>  8 <a href="../../blob/master/k.go#L2574">exp</a>       18 <a href="../../blob/master/k.go#L6218">avg</a>                138 <a href="../../blob/master/k.go#L6046">mkz</a> cmplx    /: <a href="../../blob/master/k.go#L4677">jon</a> <a href="../../blob/master/k.go#L4163">ecr</a>
= <a href="../../blob/master/k.go#L1087">grp</a> <a href="../../blob/master/k.go#L2732">eql</a>  . <a href="../../blob/master/k.go#L1434">val</a> <a href="../../blob/master/k.go#L3761">cal</a>  9: nil drw  9 <a href="../../blob/master/k.go#L5643">rnd</a> rand  19 <a href="../../blob/master/k.go#L6354">med</a>                139 <a href="../../blob/master/k.go#L3411">fns</a> find     \: <a href="../../blob/master/k.go#L4644">spl</a> <a href="../../blob/master/k.go#L4177">ecl</a>

k7+
 complex(type z): 1i2, 1a30, cmplx, expi, real, imag, phase, conj, rand 3i(binormal)
 matrix: x/y(mul), A\B(solve), A\0(qr), A\1(inv), diag A, diag v, norm, cond
 stat: x med (pct/erf/cum), dev z (principal axis), x var, var z (cov), x avg (cum/win/exp)
k7-
 32bit, time/duration, crypto, network, multithread
 
Type/memory system
32-bit system, buddy allocater with 8 byte headers
types (cifzsla01234) byte8, int32, float64, complex128, symbol64, list32, dict64, funcs
space for 15 types
8 byte header:
  4 bits type p>>28
 28 bits vector size, atom: p&0x0fffffff == 0x0fffffff
 free block: type is 0:     p&0xf0000000 == 0
 bucket type is stored only in free blocks at p (uint32 value)
 32 bits (p+1) are refcount for used blocks or pointer to next free

Initial memory (64kB, 1kB reserved)
 p[0]        block header
 p[1]        rng state
 p[2]        total allocated memory log2 (initial 64k, max 4G) uint32
 p[3]        version(date)
 followed by free list:
 p[4..31]    points to free block of bucket size n = 4..31
 byte[136…168] symbols :+-*%&|<>=!~,^#_$?@.0123456789'/\
 byte[169…177] type names _cifzn.a
 p[47]       0x2f src pointer
 p[48]       0x30 points to global(ktree) keys (S)
 p[49]       0x31 points to global(ktree) values (L)
 p[50]       0x32 points to local keys (S)
 p[51]       0x33 points to local values (L)
 p[52]       0x34 points to stab(symbol table, L of C)
 p[53]       0x35 points to asci chars (#256)
 p[117]      0x75 symbolic compilation
 maybe:      type size vector: 0,1,4,8,16,8,4,0,0,0,0,0,0
             A01234 need only a single block but may have length>0
	     
	     
Function codes
 primitives :+-*%&|<>=!~,^#_$?@. (their ascii value, dyadic +128)
 ioverbs 0123456789 ('0'..'9', dyadic +128)
 operators '/\ (ascii+128) ': /: \: (ascii '/\)
 derived functions each/over/scan/each-prior/each-right/each-left: ascii ([{)]}, +128
 builtins 2-30 130-158 

Functions have type V0,V1,V2,..V0+7
 basic functions and builtins have values < 256 and are not stored in the memory system
 lambda functions: marked with length 0
  x+2 string form C
  x+3 (arg list;parse tree;compiled code)
 projection: length 2
  x+2 function
  x+3 full argument list with holes (N)
 composition: length 3, type V1 or V2
  x+2, x+3: point to verbs
 derived verbs, e.g. evaluating (/;+) are atoms
  x+2 derived function code
  x+3 points to the function operand
 expressions (:e) have type V0 with length 2
  x+2 string form C
  x+3 (parse tree;compiled code)
 call will adjust the valence if a derived function has two arguments
 
Symbols are interned in the char array at m.k[stab]
 symbol values are 256+index into this array (which is append only)
 values < 256 are single char symbols and represent their ascii value
 the 0 value is the empty symbol
</pre>

# Building
<pre>
This is not a complete program. It can only be run with go test.
See directory _/ instead.
</pre>
